@model IEnumerable<testweb2.Models.Category>

@{
    ViewBag.Title = "카테고리 추가";
}

<div class="page-all">
    <div class="form-input">

        <h2>카테고리 추가</h2>
        <div class="col-md-8">
            <div class="input-group mb-3 div-border">
                <div class="mb-3" style="width:100%;">
                    과목
                    <div class="mb-2">
                        <hr />
                        @foreach (var item in Model.OrderBy(b => b.CatName))
                        {
                            if (string.Compare(item.CatAttribute, "과목") == 0)
                            {
                                <div class="form-check form-check-inline">
                                    <button class="btn btn-danger" style="width:5px;height:5px" onclick="deletecat(@item.CatId)"></button>
                                    <label class="form-check-label" for="inlineCheckbox1">@item.CatName</label>
                                </div>
                            }
                        }
                    </div>
                </div>
                <div class="mb-3" style="width:100%;">
                    동아리
                    <div class="mb-2">
                        <hr />
                        @foreach (var item in Model.OrderBy(b => b.CatName))
                        {
                            if (string.Compare(item.CatAttribute, "동아리") == 0)
                            {
                                <div class="form-check form-check-inline">
                                    <button class="btn btn-danger" style="width:5px;height:5px" onclick="deletecat(@item.CatId)"></button>
                                    <label class="form-check-label" for="inlineCheckbox1">@item.CatName</label>
                                </div>
                            }
                        }
                    </div>
                </div>
                <div class="mb-3" style="width:100%;">
                    기타
                    <div class="mb-2">
                        <hr />
                        @foreach (var item in Model.OrderBy(b => b.CatName))
                        {
                            if (string.Compare(item.CatAttribute, "기타") == 0)
                            {
                                <div class="form-check form-check-inline">
                                    <button class="btn btn-danger" style="width:5px;height:5px" onclick="deletecat(@item.CatId)"></button>
                                    <label class="form-check-label" for="inlineCheckbox1">@item.CatName</label>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
        <form class="form-input" method="post">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon3">카테고리 이름</span>
                </div>
                <input type="text" class="form-control" id="basic-url" name="CatName" aria-describedby="basic-addon3">
            </div>
            <select class="custom-select" id="inputGroupSelect01" name="CatAttribute">
                <option selected>Choose...</option>
                <option value="과목">과목</option>
                <option value="동아리">동아리</option>
                <option value="기타">기타</option>
            </select>

            <input type="submit" class="btn btn-outline-primary" name="제출" />
        </form>
        <script>

            function deletecat(id) {
                var form = document.createElement("form");
                form.setAttribute("method", "Post");
                form.setAttribute("action", "/Teacher/DeleteCat");//form 생성 및 형식 설정

                var hiddenField = document.createElement("input");
                hiddenField.setAttribute("name", "id")
                hiddenField.setAttribute("value", id);//form 내용 삽입

                form.appendChild(hiddenField);
                document.body.appendChild(form);
                form.submit();//form 전송
            }

        </script>
    </div>
</div>