@model IEnumerable<testweb2.Models.Category>

@{
    ViewBag.Title = "카테고리 추가";
}

<div class="page-all">
    <div class="form-input">

        <h2>카테고리 추가</h2>
        <div class="col-md-8">
            <table class="table">
                <thead class="thead-dark">
                    <tr>
                        <th>id</th>
                        <th>name</th>
                        <th>attribute</th>
                        <th></th>
                    </tr>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <th>@item.CatId</th>
                            <th>@item.CatName</th>
                            <th>@item.CatAttribute</th>
                            <th><button class="btn btn-primary" onclick="deletecat(@item.CatId)">제거</button></th>
                        </tr>
                    }
                </thead>
            </table>
        </div>
        <form class="form-input" method="post">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon3">카테고리 이름</span>
                </div>
                <input type="text" class="form-control" id="basic-url" name="CatName" aria-describedby="basic-addon3">
            </div>
            <select class="custom-select" id="inputGroupSelect01" name="CatAttribute">
                <option selected>Choose...</option>
                <option value="과목">과목</option>
                <option value="동아리">동아리</option>
                <option value="기타">기타</option>
            </select>

            <input type="submit" class="btn btn-outline-primary" name="제출" />
        </form>
        <script>

            function deletecat(id) {
                var form = document.createElement("form");
                form.setAttribute("method", "Post");
                form.setAttribute("action", "/Teacher/DeleteCat");//form 생성 및 형식 설정

                var hiddenField = document.createElement("input");
                hiddenField.setAttribute("name", "id")
                hiddenField.setAttribute("value", id);//form 내용 삽입

                form.appendChild(hiddenField);
                document.body.appendChild(form);
                form.submit();//form 전송
            }

        </script>
    </div>
</div>